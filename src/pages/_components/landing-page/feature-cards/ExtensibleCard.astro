---
import FeatureCard from './FeatureCard.astro';
---

<FeatureCard
	icon="ri/dashboard-line"
	title="Architecture Extensible"
	description="Son système de plugin permet de construire des générateurs et des validations pour vos besoins spécifiques."
>
	<div slot="illustration" class="extensible-illustration mt-4 pt-4 border-t border-astro-dark-100/10">
		<!-- Dot pattern background -->
		<div class="dot-pattern absolute inset-0"></div>

		<div class="plugins-container relative h-28 flex items-center justify-center">
			<!-- Central HexaGlue block -->
			<div class="central-block">
				<span class="central-label">HexaGlue</span>
			</div>

			<!-- Plugin blocks -->
			<div class="plugin plugin-1">
				<span class="plugin-label">JPA</span>
			</div>
			<div class="plugin plugin-2">
				<span class="plugin-label">Audit</span>
			</div>
			<div class="plugin plugin-3">
				<span class="plugin-label">Docs</span>
			</div>
			<div class="plugin plugin-4">
				<span class="plugin-label">Custom</span>
			</div>
		</div>
	</div>
</FeatureCard>

<style>
	.extensible-illustration {
		position: relative;
		overflow: hidden;
	}

	.dot-pattern {
		background: radial-gradient(rgba(50, 69, 255, 0.25) 0.75px, transparent 0.75px);
		background-size: 8px 8px;
		opacity: 0.5;
		transition: opacity 0.5s ease-out;
	}

	:global(.group:hover) .dot-pattern {
		opacity: 0.9;
	}

	.plugins-container {
		position: relative;
		z-index: 1;
	}

	/* Central HexaGlue block */
	.central-block {
		width: 70px;
		height: 50px;
		background: linear-gradient(135deg, rgba(64, 222, 191, 0.15), rgba(50, 69, 255, 0.15));
		border: 1px solid rgba(64, 222, 191, 0.3);
		border-radius: 8px;
		display: flex;
		align-items: center;
		justify-content: center;
		position: relative;
		z-index: 10;
		transition: all 0.4s ease-out;
	}

	.central-label {
		font-family: ui-monospace, SFMono-Regular, 'SF Mono', Menlo, Monaco, Consolas, monospace;
		font-size: 9px;
		font-weight: 600;
		color: rgba(64, 222, 191, 0.7);
		transition: all 0.3s ease-out;
	}

	:global(.group:hover) .central-block {
		background: linear-gradient(135deg, rgba(64, 222, 191, 0.25), rgba(50, 69, 255, 0.25));
		border-color: rgba(64, 222, 191, 0.6);
		box-shadow: 0 0 20px rgba(64, 222, 191, 0.3);
		transform: scale(1.05);
	}

	:global(.group:hover) .central-label {
		color: rgba(64, 222, 191, 1);
	}

	/* Plugin blocks */
	.plugin {
		position: absolute;
		width: 42px;
		height: 28px;
		background: linear-gradient(135deg, rgba(23, 25, 30, 0.9), rgba(40, 44, 52, 0.9));
		border: 1px solid rgba(107, 122, 171, 0.3);
		border-radius: 5px;
		display: flex;
		align-items: center;
		justify-content: center;
		opacity: 0;
		transition: all 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
		z-index: 5;
	}

	.plugin-label {
		font-family: ui-monospace, SFMono-Regular, 'SF Mono', Menlo, Monaco, Consolas, monospace;
		font-size: 8px;
		font-weight: 500;
		color: rgba(255, 255, 255, 0.6);
		transition: all 0.3s ease-out;
	}

	/* Plugin positions - start far, end attached */
	.plugin-1 {
		top: 50%;
		left: 0;
		transform: translate(-60px, -50%);
	}

	.plugin-2 {
		top: 0;
		left: 50%;
		transform: translate(-50%, -40px);
	}

	.plugin-3 {
		top: 50%;
		right: 0;
		transform: translate(60px, -50%);
	}

	.plugin-4 {
		bottom: 0;
		left: 50%;
		transform: translate(-50%, 40px);
	}

	/* Hover - plugins attach to central block */
	:global(.group:hover) .plugin {
		opacity: 1;
	}

	:global(.group:hover) .plugin-1 {
		transform: translate(0, -50%);
		left: calc(50% - 68px);
		transition-delay: 0.1s;
	}

	:global(.group:hover) .plugin-2 {
		transform: translate(-50%, 0);
		top: calc(50% - 48px);
		transition-delay: 0.2s;
	}

	:global(.group:hover) .plugin-3 {
		transform: translate(0, -50%);
		right: calc(50% - 68px);
		transition-delay: 0.3s;
	}

	:global(.group:hover) .plugin-4 {
		transform: translate(-50%, 0);
		bottom: calc(50% - 48px);
		transition-delay: 0.4s;
	}

	/* Plugin colors on hover */
	.plugin-1 { border-color: rgba(188, 82, 238, 0.2); }
	.plugin-1 .plugin-label { color: rgba(188, 82, 238, 0.7); }

	.plugin-2 { border-color: rgba(64, 222, 191, 0.2); }
	.plugin-2 .plugin-label { color: rgba(64, 222, 191, 0.7); }

	.plugin-3 { border-color: rgba(50, 69, 255, 0.2); }
	.plugin-3 .plugin-label { color: rgba(50, 69, 255, 0.7); }

	.plugin-4 { border-color: rgba(255, 135, 50, 0.2); }
	.plugin-4 .plugin-label { color: rgba(255, 135, 50, 0.7); }

	:global(.group:hover) .plugin-1 {
		border-color: rgba(188, 82, 238, 0.5);
		box-shadow: 0 0 10px rgba(188, 82, 238, 0.3);
	}
	:global(.group:hover) .plugin-1 .plugin-label { color: rgba(216, 180, 254, 1); }

	:global(.group:hover) .plugin-2 {
		border-color: rgba(64, 222, 191, 0.5);
		box-shadow: 0 0 10px rgba(64, 222, 191, 0.3);
	}
	:global(.group:hover) .plugin-2 .plugin-label { color: rgba(64, 222, 191, 1); }

	:global(.group:hover) .plugin-3 {
		border-color: rgba(50, 69, 255, 0.5);
		box-shadow: 0 0 10px rgba(50, 69, 255, 0.3);
	}
	:global(.group:hover) .plugin-3 .plugin-label { color: rgba(129, 140, 248, 1); }

	:global(.group:hover) .plugin-4 {
		border-color: rgba(255, 135, 50, 0.5);
		box-shadow: 0 0 10px rgba(255, 135, 50, 0.3);
	}
	:global(.group:hover) .plugin-4 .plugin-label { color: rgba(253, 186, 116, 1); }
</style>
