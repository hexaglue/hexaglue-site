---
interface Props {
	title: string;
	tint?: 'green' | 'amber' | 'purple';
}

const { title, tint } = Astro.props;

const tintMap: Record<string, { border: string; glow: string }> = {
	green: { border: 'border-astro-green/15 hover:border-astro-green/30', glow: 'intro-point-green' },
	amber: { border: 'border-astro-yellow/15 hover:border-astro-yellow/30', glow: 'intro-point-amber' },
	purple: { border: 'border-astro-purple/15 hover:border-astro-purple/30', glow: 'intro-point-purple' },
};
const resolved = tint ? tintMap[tint] : undefined;
const borderClass = resolved?.border ?? 'border-astro-dark-100/15 hover:border-astro-dark-100/30';
const glowClass = resolved?.glow ?? '';
---

<div class:list={['intro-point p-6 bg-astro-dark-800/40 border rounded-xl transition-all duration-300', borderClass, glowClass]}>
	<div class="flex items-center gap-3">
		<slot name="icon" />
		<h3 class="text-xl text-white font-semibold">{title}</h3>
	</div>

	<p class="mt-3 text-astro-gray-200 font-light text-base">
		<slot name="description" />
	</p>
</div>

<style>
	.intro-point {
		position: relative;
	}

	.intro-point::before {
		content: '';
		position: absolute;
		inset: 20% 10%;
		background: var(--glow, linear-gradient(135deg, rgba(64, 222, 191, 0.15) 0%, rgba(51, 75, 169, 0.15) 100%));
		border-radius: 50%;
		filter: blur(40px);
		z-index: -1;
		opacity: 0;
		transform: translateY(20px);
		transition: opacity 0.4s ease-out, transform 0.4s ease-out;
	}

	.intro-point:hover::before {
		opacity: 1;
		transform: translateY(30px);
	}

	/* Green tint (Intro / Comment Ã§a fonctionne) */
	.intro-point-green {
		--glow: linear-gradient(135deg, rgba(74, 242, 200, 0.15) 0%, rgba(50, 69, 255, 0.15) 100%);
	}

	/* Amber tint (ValueProposition / Pourquoi c'est utile) */
	.intro-point-amber {
		--glow: linear-gradient(135deg, rgba(255, 125, 84, 0.15) 0%, rgba(248, 228, 46, 0.15) 100%);
	}

	/* Purple tint (Adoption / Cas d'usage) */
	.intro-point-purple {
		--glow: linear-gradient(135deg, rgba(50, 69, 255, 0.15) 0%, rgba(188, 82, 238, 0.15) 100%);
	}
</style>
