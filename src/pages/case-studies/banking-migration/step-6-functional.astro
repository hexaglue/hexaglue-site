---
import MainLayout from '~/layouts/MainLayout.astro';
import { Icon } from 'astro-icon/components';
import { Code } from 'astro-expressive-code/components';
import StepNavigation from '../_components/StepNavigation.astro';
import AuditReport from '../_components/AuditReport.astro';
import AuditVerdict from '../_components/AuditVerdict.astro';
import KpiTable, { type KpiRow } from '../_components/KpiTable.astro';
import ViolationsTable, { type ViolationRow } from '../_components/ViolationsTable.astro';
import MetricsTable, { type MetricRow } from '../_components/MetricsTable.astro';
import InventoryTable, { type InventoryRow } from '../_components/InventoryTable.astro';
import PackageStabilityTable, { type PackageStabilityRow } from '../_components/PackageStabilityTable.astro';
import RemediationTable, { type RemediationRow } from '../_components/RemediationTable.astro';
import SectionCopy from '../../_components/SectionCopy.astro';
import PurpleStardust from '../../_components/landing-page/PurpleStardust.astro';
import Insight from '~/components/Insight.astro';
import ModificationList from '../_components/ModificationList.astro';
import ModificationGroup from '../_components/ModificationGroup.astro';
import ModificationItem from '../_components/ModificationItem.astro';
import Link from '../../_components/Link.astro';

const title = 'Étape 6 - Application fonctionnelle complète | Migration Banking';
const description = 'Application bancaire multi-modules fonctionnelle de bout en bout. Méthodes reconstitute() sur tous les agrégats, driven ports câblés. Score 66/100, 0 violation.';

const accountReconstitute = `public class Account {
    private final AccountId id;
    private final Iban iban;
    private final CustomerId customerId;
    private final AccountType type;
    private Money balance;

    // Constructor for creation
    public Account(AccountId id, Iban iban, CustomerId customerId,
                   AccountType type, Money balance) {
        this.id = Objects.requireNonNull(id);
        this.iban = Objects.requireNonNull(iban);
        this.customerId = Objects.requireNonNull(customerId);
        this.type = Objects.requireNonNull(type);
        this.balance = Objects.requireNonNull(balance);
    }

    // Factory method for reconstitution from persistence
    public static Account reconstitute(AccountId id, Iban iban,
                                        CustomerId customerId,
                                        AccountType type, Money balance) {
        return new Account(id, iban, customerId, type, balance);
    }

    public void deposit(Money amount) {
        this.balance = this.balance.add(amount);
    }

    public void withdraw(Money amount) {
        if (this.balance.isLessThan(amount)) {
            throw new InsufficientFundsException(this.id);
        }
        this.balance = this.balance.subtract(amount);
    }
}`;

const kpiRows: KpiRow[] = [
    { dimension: 'DDD Compliance', value: '100%', weight: '25%', contribution: '25.0', threshold: '≥ 90%', status: 'OK', delta: '=' },
    { dimension: 'Hexagonal Architecture', value: '100%', weight: '25%', contribution: '25.0', threshold: '≥ 90%', status: 'OK', delta: '=' },
    { dimension: 'Dependencies', value: '0%', weight: '20%', contribution: '0.0', threshold: '≥ 80%', status: 'CRITICAL', delta: '=' },
    { dimension: 'Coupling', value: '44%', weight: '15%', contribution: '6.6', threshold: '≥ 70%', status: 'CRITICAL', delta: '=' },
    { dimension: 'Cohesion', value: '63%', weight: '15%', contribution: '9.5', threshold: '≥ 80%', status: 'CRITICAL', delta: '-1' },
];

const inventoryRows: InventoryRow[] = [
    { component: 'Aggregate Roots', count: 6, delta: '=', observation: 'Account, Beneficiary, Card, Customer, Transaction, Transfer' },
    { component: 'Entities', count: 0, delta: '=' },
    { component: 'Value Objects', count: 8, delta: '=', observation: '4 enums + Money, Iban, Email, Address' },
    { component: 'Identifiers', count: 6, delta: '=', observation: 'AccountId, BeneficiaryId, CardId, CustomerId, TransactionId, TransferId' },
    { component: 'Domain Events', count: 0, delta: '=' },
    { component: 'Application Services', count: 5, delta: '=', observation: '5 use case implementations' },
    { component: 'Driving Ports', count: 5, delta: '-2', observation: '5 use cases' },
    { component: 'Driven Ports', count: 8, delta: '+2', observation: '6 repositories + FraudDetection + NotificationSender' },
];
---

<MainLayout title={title} description={description}>
  <!-- Hero -->
  <section class="pt-24 pb-16 md:pt-32 md:pb-20 relative w-full max-w-4xl mx-auto px-4 sm:px-8">
    <PurpleStardust height="h-64 md:h-80" />
    <div class="max-w-5xl mx-auto">
      <div class="mt-8 max-w-3xl">
        <span class="bg-clip-text text-transparent bg-blue-purple-gradient font-semibold text-sm uppercase tracking-wider">
          Étape 6
        </span>
        <h1 class="mt-4 font-heading heading-bold text-4xl md:text-5xl lg:text-6xl text-white text-balance">
          Application fonctionnelle complète
        </h1>
        <a
          href="https://github.com/hexaglue/case-study-banking/tree/step/6-functional" title="Voir le code source sur GitHub"
          target="_blank"
          rel="noopener noreferrer"
          class="mt-4 px-4 py-2 group inline-flex items-center justify-center gap-2 rounded-full border border-astro-dark-100/30 hover:border-astro-dark-100/60 text-base font-normal text-astro-gray-200 hover:text-astro-gray-100 bg-astro-dark-600/30 transition-all ease-in-out duration-500"
        >
          <Icon name="logos/github" class="size-5" aria-hidden="true" />
          <code class="text-sm text-purple-400">step/6-functional</code>
        </a>
        <ul class="mt-6 text-lg text-astro-gray-200 font-light max-w-2xl space-y-1 list-disc list-inside">
          <li>Méthodes reconstitute() sur tous les agrégats.</li>
          <li>Câblage FraudDetection et NotificationSender.</li>
          <li>Application fonctionnelle end-to-end.</li>
        </ul>
      </div>
    </div>
  </section>

  <!-- Modifications effectuées -->
  <section class="py-16 md:py-20 relative w-full max-w-4xl mx-auto px-4 sm:px-8">
    <div class="max-w-5xl mx-auto">
      <SectionCopy
        label="Modifications"
        title="Modifications effectuées"
        gradient="bg-blue-purple-gradient"
      >
        Cette dernière étape rend l'application fonctionnelle de bout en bout :
        convention <code>reconstitute()</code> pour restaurer les agrégats depuis la base, et câblage des driven ports restants.
      </SectionCopy>

      <ModificationList class="mt-10">
        <ModificationGroup layer="domain">
          <ModificationItem action="implement" count={6} label="méthodes reconstitute()" details="factory method sur chaque agrégat pour restauration depuis la persistence" />
        </ModificationGroup>
        <ModificationGroup layer="application">
          <ModificationItem action="refactor" label="TransferApplicationService" details="câblage FraudDetection et NotificationSender" />
          <ModificationItem action="refactor" label="CardApplicationService" details="câblage NotificationSender" />
        </ModificationGroup>
        <ModificationGroup layer="adapters">
          <ModificationItem action="refactor" label="ApplicationServiceConfig" details="mise à jour avec les nouvelles dépendances (FraudDetection, NotificationSender)" />
        </ModificationGroup>
      </ModificationList>

      <Insight>
        <p><strong>Corrections ciblées</strong> pour rendre l'application opérationnelle :</p>
        <ul>
          <li><strong>Domaine</strong> : ajout de <code>reconstitute()</code> sur les 6 agrégats, permettant aux mappers générés de restaurer les objets domaine depuis la base</li>
          <li><strong>Application</strong> : <code>FraudDetection</code> et <code>NotificationSender</code> passent de driving ports à driven ports et sont câblés dans les services applicatifs qui en ont besoin</li>
          <li><strong>Adapters</strong> : <code>ApplicationServiceConfig</code> mise à jour pour injecter les nouvelles dépendances</li>
        </ul>
      </Insight>
    </div>
  </section>

  <!-- Code : reconstitute() -->
  <section class="py-16 md:py-20 relative w-full max-w-4xl mx-auto px-4 sm:px-8">
    <div class="max-w-5xl mx-auto">
      <SectionCopy
        label="Code"
        title="Convention reconstitute()"
        gradient="bg-blue-purple-gradient"
      >
        La méthode <code>reconstitute()</code> est une factory method statique qui permet aux mappers générés de reconstruire un agrégat depuis les données de persistence, sans exposer de setter ni de constructeur technique.
      </SectionCopy>

      <div class="mt-10">
        <Code code={accountReconstitute} lang="java" title="Account.java" />
      </div>

      <Insight>
        <ul>
          <li><strong><code>reconstitute()</code></strong> : convention utilisée par les mappers générés pour restaurer un agrégat depuis la base de données, sans compromettre l'encapsulation du domaine</li>
          <li><strong>Constructeur pour la création</strong> : le constructeur standard est utilisé par le code métier pour créer de nouvelles instances avec validation</li>
          <li><strong>Comportement métier préservé</strong> : <code>deposit()</code> et <code>withdraw()</code> contiennent la logique métier, pas les services</li>
        </ul>
      </Insight>
    </div>
  </section>

  <AuditReport description="Résultat final après ajout des reconstitute() et câblage des driven ports.">

  <!-- Verdict de l'audit -->
  <section class="py-16 md:py-20 relative w-full max-w-4xl mx-auto px-4 sm:px-8">
    <div class="max-w-5xl mx-auto">
      <SectionCopy
        label="Verdict"
        title="Verdict de l'audit"
        gradient="bg-orange-yellow-gradient"
      >
        Le score reste stable à 66/100. Les modifications de cette étape sont fonctionnelles, pas structurelles :
        elles rendent l'application opérationnelle sans modifier l'architecture.
      </SectionCopy>

      <div class="mt-10">
        <AuditVerdict
          score={66}
          grade="D"
          status="PASSED"
          violations={{ critical: 0, major: 0 }}
          delta={{ score: 0, violations: 0 }}
        />
      </div>

      <Insight>
        <p>Le score est stable car les changements sont fonctionnels : ajout de <code>reconstitute()</code> et câblage des driven ports. L'architecture hexagonale reste à 100%, le DDD à 100%, et aucune violation n'apparaît.</p>
      </Insight>
    </div>
  </section>

  <!-- Décomposition du score -->
  <section class="py-16 md:py-20 relative w-full max-w-4xl mx-auto px-4 sm:px-8">
    <div class="max-w-5xl mx-auto">
      <SectionCopy
        label="Score"
        title="Décomposition du score"
        gradient="bg-orange-yellow-gradient"
      >
        Le score final de 66/100 reflète l'état de chaque dimension architecturale.<br>
        Les dimensions DDD et Hexagonal sont au maximum. Les dimensions Dependencies et Coupling, qui mesurent les dépendances Maven, plafonnent le score.
      </SectionCopy>

      <div class="mt-10">
        <KpiTable rows={kpiRows} total="66.1" />
      </div>

      <Insight>
        <ul>
          <li><strong>DDD Compliance et Hexagonal Architecture à 100%</strong> : inchangés, les deux piliers fondamentaux sont au maximum depuis l'étape 5</li>
          <li><strong>Cohesion recule légèrement à 63%</strong> (-1) : le reclassement de <code>FraudDetection</code> et <code>NotificationSender</code> en driven ports modifie marginalement le ratio</li>
          <li><strong>Dependencies (0%) et Coupling (44%)</strong> restent inchangés : ces dimensions mesurent les dépendances Maven et le couplage entre packages, indépendamment de l'architecture hexagonale</li>
        </ul>
      </Insight>
    </div>
  </section>

  <!-- Inventaire architectural -->
  <section class="py-16 md:py-20 relative w-full max-w-4xl mx-auto px-4 sm:px-8">
    <div class="max-w-5xl mx-auto">
      <SectionCopy
        label="Inventaire"
        title="Inventaire architectural"
        gradient="bg-orange-yellow-gradient"
      >
        L'inventaire final montre le reclassement de <code>FraudDetection</code> et <code>NotificationSender</code> :
        ils passent de driving ports à driven ports, reflétant leur rôle réel dans l'architecture.
      </SectionCopy>

      <div class="mt-10">
        <InventoryTable rows={inventoryRows} />
      </div>

      <Insight>
        <ul>
          <li><strong>Driving Ports : 5</strong> (-2) : <code>FraudDetection</code> et <code>NotificationSender</code> ne sont plus classifiés comme driving ports</li>
          <li><strong>Driven Ports : 8</strong> (+2) : les 6 repositories plus <code>FraudDetection</code> et <code>NotificationSender</code>, désormais correctement classifiés comme ports sortants</li>
          <li><strong>Tous les autres compteurs stables</strong> : le domaine ne change pas, seul le câblage des ports évolue</li>
        </ul>
      </Insight>
    </div>
  </section>

  <!-- Violations détectées -->
  <section class="py-16 md:py-20 relative w-full max-w-4xl mx-auto px-4 sm:px-8">
    <div class="max-w-5xl mx-auto">
      <SectionCopy
        label="Violations"
        title="Violations détectées"
        gradient="bg-orange-yellow-gradient"
      >
        Aucune violation, comme à l'étape précédente.<br>
        Les modifications fonctionnelles n'introduisent aucun défaut architectural.
      </SectionCopy>

      <div class="mt-10">
        <div class="bg-astro-dark-800/40 border border-green-500/20 rounded-2xl p-8 text-center">
          <div class="flex items-center justify-center gap-3 mb-4">
            <Icon name="ri:checkbox-circle-line" class="w-8 h-8 text-green-400" />
            <span class="text-2xl font-bold text-green-400">0 violation</span>
          </div>
          <p class="text-astro-gray-200">Aucune violation détectée. Toutes les contraintes DDD et hexagonales sont respectées.</p>
        </div>
      </div>

      <Insight>
        <p>L'ajout des méthodes <code>reconstitute()</code> et le câblage des driven ports ne modifient pas la structure architecturale. Le score reste à 0 violation, confirmant la solidité de l'architecture mise en place à l'étape 5.</p>
      </Insight>
    </div>
  </section>

  <!-- Métriques de qualité -->
  <section class="py-16 md:py-20 relative w-full max-w-4xl mx-auto px-4 sm:px-8">
    <div class="max-w-5xl mx-auto">
      <SectionCopy
        label="Qualité"
        title="Métriques de qualité"
        gradient="bg-orange-yellow-gradient"
      >
        Les métriques de qualité confirment la stabilité de l'architecture.<br>
        Les valeurs sont identiques à l'étape 5, les changements étant purement fonctionnels.
      </SectionCopy>

      <div class="mt-10">
        <MetricsTable
          rows={[
            { metric: 'Domain coverage', value: '52.63%', threshold: 'min 30%', status: 'OK', delta: '=' },
            { metric: 'Code boilerplate', value: '43.42%', threshold: 'max 50%', status: 'OK', delta: '=' },
            { metric: 'Domain purity', value: '100.00%', threshold: 'min 100%', status: 'OK', delta: '=' },
            { metric: 'Aggregate boundary', value: '100.00%', threshold: 'min 80%', status: 'OK', delta: '=' },
            { metric: 'Code complexity', value: '1.29', threshold: 'max 10', status: 'OK', delta: '=' },
          ]}
        />
      </div>

      <Insight>
        <ul>
          <li><strong>Toutes les métriques stables</strong> : les ajouts de <code>reconstitute()</code> et le câblage des driven ports ne modifient pas les indicateurs de qualité structurels</li>
          <li><strong><code>domain.purity</code> maintenue à 100%</strong> : les méthodes <code>reconstitute()</code> restent dans le domaine, sans dépendance technique</li>
          <li><strong><code>aggregate.boundary</code> à 100%</strong> : tous les agrégats respectent leurs frontières, confirmant la qualité du modèle domaine</li>
        </ul>
      </Insight>
    </div>
  </section>

  </AuditReport>

  <!-- Final Summary -->
  <section class="py-16 md:py-20 relative w-full max-w-4xl mx-auto px-4 sm:px-8">
    <div class="max-w-5xl mx-auto">
      <SectionCopy label="Résultat" title="Bilan final" gradient="bg-blue-purple-gradient" />

      <div class="mt-8 bg-gradient-to-br from-purple-500/10 to-pink-500/10 border border-purple-500/20 rounded-2xl p-8">
        <div class="flex items-start gap-4 mb-6">
          <Icon name="ri:trophy-line" class="w-8 h-8 text-yellow-400 flex-shrink-0" />
          <div>
            <h3 class="text-2xl font-bold text-white mb-2">Application fonctionnelle</h3>
            <p class="text-astro-gray-200">
              L'application bancaire multi-modules fonctionne de bout en bout avec infrastructure 100% générée et routée vers le module banking-persistence.
            </p>
          </div>
        </div>

        <div class="grid grid-cols-2 md:grid-cols-4 gap-6">
          <div>
            <div class="text-3xl font-bold text-white mb-1">66/100</div>
            <div class="text-sm text-astro-gray-200">Score final</div>
          </div>
          <div>
            <div class="text-3xl font-bold text-yellow-400 mb-1">D</div>
            <div class="text-sm text-astro-gray-200">Grade</div>
          </div>
          <div>
            <div class="text-3xl font-bold text-green-400 mb-1">0</div>
            <div class="text-sm text-astro-gray-200">Violation</div>
          </div>
          <div>
            <div class="text-3xl font-bold text-green-400 mb-1">~32</div>
            <div class="text-sm text-astro-gray-200">Fichiers générés</div>
          </div>
        </div>

        <div class="mt-6 pt-6 border-t border-white/10">
          <div class="grid grid-cols-2 gap-4">
            <div>
              <div class="text-sm text-astro-gray-200 mb-1">Hexagonal Architecture</div>
              <div class="text-2xl font-bold text-green-400">100%</div>
            </div>
            <div>
              <div class="text-sm text-astro-gray-200 mb-1">DDD Compliance</div>
              <div class="text-2xl font-bold text-green-400">100%</div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Bilan -->
  <section class="py-16 md:py-20 relative w-full max-w-4xl mx-auto px-4 sm:px-8">
    <div class="max-w-5xl mx-auto">
      <SectionCopy
        label="Bilan"
        title="Ce que révèle cette étape"
        gradient="bg-blue-purple-gradient"
      >
        Cette dernière étape valide le résultat complet de la migration.<br>
        Chaque carte ci-dessous résume un enseignement clé, issu directement des rapports HexaGlue.
      </SectionCopy>

      <div class="mt-10 grid gap-6 md:grid-cols-2">
        <div class="bg-astro-dark-800/40 border border-astro-dark-100/15 rounded-2xl p-6">
          <div class="flex items-start gap-3">
            <Icon name="ri:checkbox-circle-line" class="w-6 h-6 text-green-400 flex-shrink-0 mt-1" />
            <div>
              <h3 class="text-lg font-semibold text-white mb-2">Infrastructure 100% générée</h3>
              <p class="text-sm text-astro-gray-200">
                L'application fonctionne de bout en bout avec toute l'infrastructure de persistance générée et routée vers banking-persistence.
              </p>
            </div>
          </div>
        </div>

        <div class="bg-astro-dark-800/40 border border-astro-dark-100/15 rounded-2xl p-6">
          <div class="flex items-start gap-3">
            <Icon name="ri:building-line" class="w-6 h-6 text-purple-400 flex-shrink-0 mt-1" />
            <div>
              <h3 class="text-lg font-semibold text-white mb-2">Convention reconstitute()</h3>
              <p class="text-sm text-astro-gray-200">
                La méthode factory reconstitute() est essentielle pour que les mappers générés puissent restaurer les agrégats depuis la persistence.
              </p>
            </div>
          </div>
        </div>

        <div class="bg-astro-dark-800/40 border border-astro-dark-100/15 rounded-2xl p-6">
          <div class="flex items-start gap-3">
            <Icon name="ri:node-tree" class="w-6 h-6 text-blue-400 flex-shrink-0 mt-1" />
            <div>
              <h3 class="text-lg font-semibold text-white mb-2">Multi-module natif</h3>
              <p class="text-sm text-astro-gray-200">
                HexaGlue analyse tous les modules en une seule passe et route le code généré vers le bon module grâce à targetModule.
              </p>
            </div>
          </div>
        </div>

        <div class="bg-astro-dark-800/40 border border-astro-dark-100/15 rounded-2xl p-6">
          <div class="flex items-start gap-3">
            <Icon name="ri:database-line" class="w-6 h-6 text-green-400 flex-shrink-0 mt-1" />
            <div>
              <h3 class="text-lg font-semibold text-white mb-2">0 violation</h3>
              <p class="text-sm text-astro-gray-200">
                Aucune violation architecturale. DDD et Hexagonal Architecture à 100%.
              </p>
            </div>
          </div>
        </div>

        <div class="bg-astro-dark-800/40 border border-astro-dark-100/15 rounded-2xl p-6">
          <div class="flex items-start gap-3">
            <Icon name="ri:git-branch-line" class="w-6 h-6 text-yellow-400 flex-shrink-0 mt-1" />
            <div>
              <h3 class="text-lg font-semibold text-white mb-2">Driven ports câblés</h3>
              <p class="text-sm text-astro-gray-200">
                FraudDetection et NotificationSender correctement classifiés comme driven ports et injectés dans les services applicatifs.
              </p>
            </div>
          </div>
        </div>

        <div class="bg-astro-dark-800/40 border border-astro-dark-100/15 rounded-2xl p-6">
          <div class="flex items-start gap-3">
            <Icon name="ri:line-chart-line" class="w-6 h-6 text-orange-400 flex-shrink-0 mt-1" />
            <div>
              <h3 class="text-lg font-semibold text-white mb-2">14 à 66/100</h3>
              <p class="text-sm text-astro-gray-200">
                +52 points en 6 étapes : de F à D, avec 0 violation et une architecture hexagonale complète.
              </p>
            </div>
          </div>
        </div>
      </div>

      <Insight class="mt-10">
        <p>En 6 étapes, le score est passé de <strong>14 à 66/100</strong> (+52 points) et l'application est fonctionnelle de bout en bout.</p>
        <ul>
          <li><strong>Architecture hexagonale à 100%</strong> : services applicatifs purifiés, chaque port dispose d'un adaptateur, les couches sont isolées</li>
          <li><strong>~32 fichiers générés, 0 infrastructure manuelle</strong> : toute la persistance est produite au compile-time et routée vers <code>banking-persistence</code></li>
          <li><strong>Convention requise</strong> : <code>reconstitute()</code> pour restaurer les agrégats depuis la persistence, sans compromettre l'encapsulation du domaine</li>
          <li><strong>0 violation résiduelle</strong> : toutes les contraintes DDD et hexagonales sont respectées</li>
        </ul>
      </Insight>
    </div>
  </section>

  <!-- CTA Section -->
  <section class="py-16 md:py-24 mb-12 relative">
    <div class="w-full max-w-screen-xl mx-auto px-4 sm:px-8 text-center space-y-6">
      <h2 class="font-heading heading-bold text-3xl md:text-4xl lg:text-5xl text-white">
        <span class="text-astro-gray-300">Une architecture propre.</span><br/>
        <span class="bg-clip-text text-transparent bg-blue-purple-gradient">Une dette technique résorbée.</span>
      </h2>

      <p class="text-xl text-astro-gray-200 font-light max-w-2xl mx-auto">
        La migration est terminée. L'application bancaire multi-modules est passée de 14/100 à 66/100, avec 0 violation et une architecture hexagonale complète. L'infrastructure JPA est entièrement générée et routée vers le module banking-persistence.
      </p>

      <div class="pt-4 flex flex-col sm:flex-row items-center justify-center gap-4">
        <a
          href="/docs/getting-started/"
          class="px-6 py-3 group inline-flex items-center justify-center gap-2 rounded-full border border-transparent bg-white hover:bg-astro-gray-100 text-base font-medium transition-all ease-in-out duration-300"
        >
          <span class="bg-clip-text text-transparent bg-blue-purple-gradient group-hover:text-[#4c3a9e] transition-all ease-in-out duration-500">
            Guide de démarrage
          </span>
          <Icon name="ri:guide-line" class="size-5 text-purple-500" aria-hidden="true" />
        </a>
        <Link href="/case-studies/banking-migration/" class="secondary">
          <Icon name="ri:arrow-left-line" class="size-5" aria-hidden="true" />
          <span>Vue d'ensemble</span>
        </Link>
      </div>
    </div>
    <div
      class="absolute inset-x-0 bottom-0 h-[50vw] translate-y-[60%] bg-blue-purple-gradient opacity-50 mask-radial-gradient pointer-events-none"
    ></div>
  </section>

  <!-- Step Navigation -->
  <section class="py-16 relative w-full max-w-4xl mx-auto px-4 sm:px-8">
    <div class="max-w-5xl mx-auto">
      <StepNavigation
        prev={{ href: '/case-studies/banking-migration/step-5-generated/', label: 'Étape 5 - Génération automatique de l\'infrastructure' }}
      />
    </div>
  </section>
</MainLayout>
