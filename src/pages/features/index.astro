---
import { Icon } from 'astro-icon/components';
import MainLayout from '~/layouts/MainLayout.astro';
import SectionCopy from '../_components/SectionCopy.astro';
import Link from '../_components/Link.astro';
import IntroPoint from '../_components/IntroPoint.astro';
import GemIcon from '~/components/GemIcon.astro';
import GreenishStardust from '../_components/landing-page/GreenishStardust.astro';
import ClassificationCard from '../_components/landing-page/feature-cards/ClassificationCard.astro';
import JPAGenerationCard from '../_components/landing-page/feature-cards/JPAGenerationCard.astro';
import LivingDocCard from '../_components/landing-page/feature-cards/LivingDocCard.astro';
import AuditCard from '../_components/landing-page/feature-cards/AuditCard.astro';
import ValidationCard from '../_components/landing-page/feature-cards/ValidationCard.astro';
import PortsCard from '../_components/landing-page/feature-cards/PortsCard.astro';
import ExtensibleCard from '../_components/landing-page/feature-cards/ExtensibleCard.astro';
import CleanArchCard from '../_components/landing-page/feature-cards/CleanArchCard.astro';
import MavenPluginCard from '../_components/landing-page/feature-cards/MavenPluginCard.astro';
---

<MainLayout
	title="Fonctionnalités"
	description="HexaGlue transforme votre code Java en un modèle architectural exploitable. À chaque build, il classifie votre domaine, vérifie les règles d'architecture et génère l'infrastructure."
	schema={{
		"@type": "CollectionPage",
		about: [
			{ "@type": "Thing", name: "Classification architecturale" },
			{ "@type": "Thing", name: "Génération de code JPA" },
			{ "@type": "Thing", name: "Audit d'architecture" },
			{ "@type": "Thing", name: "Living Documentation" },
		],
	}}
>
	<!-- Hero Section -->
	<section class="pt-24 pb-16 md:pt-32 md:pb-20 relative w-full max-w-screen-xl mx-auto px-4 sm:px-8">
		<GreenishStardust height="h-64 md:h-80" />

		<div class="text-center max-w-3xl mx-auto">
			<span class="bg-clip-text text-transparent bg-blue-green-gradient font-semibold text-sm uppercase tracking-wider">
				Fonctionnalités
			</span>

			<h1 class="mt-4 font-heading heading-bold text-4xl md:text-5xl lg:text-6xl text-white text-balance">
				Classifier, valider, générer.<br/>
				<span class="bg-clip-text text-transparent bg-blue-green-gradient">À chaque build, automatiquement.</span>
			</h1>

			<p class="mt-6 text-lg text-astro-gray-200 font-light max-w-2xl mx-auto text-balance">
				HexaGlue transforme votre code Java en un modèle architectural exploitable. À chaque build, il classifie votre domaine, vérifie les règles d'architecture et génère l'infrastructure.
			</p>
		</div>
	</section>

	<!-- Pipeline Section -->
	<section class="py-16 md:py-20 relative w-full max-w-screen-xl mx-auto px-4 sm:px-8">
		<SectionCopy
			label="Pipeline"
			title="Trois étapes, un seul build"
			description="HexaGlue s'exécute à chaque compilation Maven. Votre code source devient un modèle architectural exploitable en trois étapes automatisées."
		/>

		<div class="mt-10 grid grid-cols-1 gap-8 md:grid-cols-2 md:gap-12 lg:grid-cols-3">
			<IntroPoint tint="green" title="Classifier">
				<GemIcon slot="icon" icon="ph:tree-structure-duotone" gradient="blue-green" />
				<Fragment slot="description">
					HexaGlue parcourt votre code source et identifie les concepts de votre domaine : agrégats, entités, objets valeur, événements métier, ports et services applicatifs. Chaque classification est traçable et justifiée.
				</Fragment>
			</IntroPoint>

			<IntroPoint tint="green" title="Valider">
				<GemIcon slot="icon" icon="ri:shield-check-line" gradient="red-pink" />
				<Fragment slot="description">
					Les règles de votre architecture hexagonale sont formalisées et vérifiées à chaque build : dépendances entre couches, contrats des ports, frontières du domaine. Les écarts sont détectés dès la CI, pas en production.
				</Fragment>
			</IntroPoint>

			<IntroPoint tint="green" title="Générer">
				<GemIcon slot="icon" icon="ri:code-box-line" gradient="orange-yellow" />
				<Fragment slot="description">
					À partir du modèle de domaine, HexaGlue produit les adaptateurs d'infrastructure : entités JPA, repositories, documentation vivante et rapports d'audit, alignés sur votre architecture hexagonale.
				</Fragment>
			</IntroPoint>
		</div>
	</section>

	<!-- Feature Cards Section -->
	<section class="py-16 md:py-20 relative w-full max-w-screen-xl mx-auto px-4 sm:px-8">
		<SectionCopy
			label="Tout ce dont vous avez besoin"
			title="Une Couverture Fonctionnelle Complète"
			description="HexaGlue analyse, audite et documente votre architecture Java à chaque build."
		/>

		<div class="mt-10 grid grid-cols-1 md:grid-cols-3 gap-4 auto-rows-fr">
			<ClassificationCard />
			<JPAGenerationCard />
			<LivingDocCard />
			<AuditCard />
			<ValidationCard />
			<CleanArchCard />
			<PortsCard />
			<MavenPluginCard />
			<ExtensibleCard />
		</div>
	</section>

	<!-- CTA Final -->
	<section class="py-16 md:py-24 mb-12 relative">
		<div class="w-full max-w-screen-xl mx-auto px-4 sm:px-8 text-center space-y-6">
			<h2 class="font-heading heading-bold text-3xl md:text-4xl lg:text-5xl text-white">
				<span class="text-astro-gray-300">Votre architecture mérite mieux qu'un vieux schéma.</span><br/>
				Essayez HexaGlue en 5 minutes.
			</h2>

			<p class="text-xl text-astro-gray-200 font-light max-w-2xl mx-auto">
				Suivez le guide de démarrage rapide ou explorez une étude de cas complète.
			</p>

			<div class="pt-4 flex flex-col sm:flex-row items-center justify-center gap-4">
				<Link href="/docs/getting-started/" class="primary">
					Démarrer en 5 minutes
				</Link>
				<Link href="/case-studies/" class="secondary">
					<Icon name="ri:bar-chart-box-line" class="size-5" aria-hidden="true" />
					<span>Explorer une étude de cas</span>
				</Link>
			</div>
		</div>
		<div
			class="absolute inset-x-0 bottom-0 h-[50vw] translate-y-[60%] bg-blue-green-gradient opacity-50 mask-radial-gradient pointer-events-none"
		></div>
	</section>
</MainLayout>
